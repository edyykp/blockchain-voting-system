# This file was auto-generated by the Firebase CLI
# https://github.com/firebase/firebase-tools

name: Deploy to Firebase Hosting on merge
'on':
  push:
    branches:
      - master
env:
  BLOCKCHAIN_URL: http://localhost:7545
  F1_API_URL: http://localhost:8080
  NEXT_PUBLIC_HOSTNAME: voting-system-cca07.web.app
  OLDEST_YEAR: 2015
  NEXT_PUBLIC_METAMASK_APP_DEEP_LINK: https://metamask.app.link/dapp/
  FIREBASE_PRIVATE_KEY: -----BEGIN PRIVATE KEY-----\nMIIEvAIBADANBgkqhkiG9w0BAQEFAASCBKYwggSiAgEAAoIBAQDZzhcvj3eNwCuZ\npkD7QQP2+YtnDu5bYxlW2osxLaxm6XeMn/D5GCZf5f4WaP66boQWBMczRNR+VYe7\nGXXAz0XWEXZh3KWKxUcGJ1ZqM2OeE19mli61pxW50ISS0FVmbyGMG+Q0XahYWnM7\n1+NHxTKQOtJlxvP3alPGc75bAe8lo1tXDgiV1LR7yRkv8yLJ56/6e5Jnow5/sx5J\njfZSvR/zvMP0tQUi26i8CSYPrzWhOMu8dy3HA2ah8oHF5jabOSPgzyoTpPnWLnYI\npEp67UA2k7ABwKy6FrEpBHdPYSCjEcbZxm+LO/WFUQxLzr07SFC73Hv6JlmM8zQM\np1sD1qCDAgMBAAECggEAFV/Xv6edLHCI9tWtd9rMCE86An2hH5/Mi0z8LvHUAu9z\nd330uIVJssyP0GQyZ1pUJRMH93yQO+up288mUqskp9rj2ru8FS/CBhUTMm3jn044\nZQllAReqFqejcwL19oz+ZlEQZqEwVadeuqc3m0H7cdML9cf+BjBNk2Klcinw7aj5\ngRa3yXIsm6GzwUu1YslXslTWI269SQWuSEC9AWgK5BeSn6PqR0nEkpZysHs25wZ4\nSDEm71B6LqLkGbg/zjz6KzJ5D0QsGDDFnGql0aHBMbYTQcKrFHZ72v74fDBL0fMh\nuuLJnoyU5SJNghf+pqKyD/jPm+xQnjbCK457sbU8FQKBgQDxBSnHzvwV+ZuN9rJL\nfSV99sMolG7FfDuJMlDDyMrnryGSFHK+2zZvTyTZGUt63Z4GrQgXkjo/TtOX0A0A\nZWujwgxePaDq66WgicMkLZ1xWJ02RM/60ITbNqtiLlbpC8sVFDiiNglW6yz1BWn+\n5dmLSs7xK617SQCZpjtimnKRBwKBgQDnV44K1e73jtfZo0XedvtLhaO8gd6UDcIB\nAJb3Gwe42YjgWUgb65Oi7o2ERebtrxIcL1wD+i1/9sCg5UGTuvnYjtLd6t0s2rKi\n23kxHhnmffwCc6TayTTXOKEHeEyXEjaG3LgdFjg78GiRdS7g+l33Tzl2eiuMEZ7M\n2+/uSzjhpQKBgBS8AvojfmBNlupBnNkNrRoHDocBLf5jT6Pf5j7RmVMRJ+wvQifV\nJ/uvbVYX7Pxm8F9Wp2mPtN8ZYu6egV/VWcs+uF2rI5rSJu+GqnkES5UisHOou9Ox\n+Jv7Ogc6QVPPJetsT+r0hx0pIjb5/kJld6+aAe+ReF0wzJJrUJSNAOolAoGAAkX1\n+11Gz9/zdwwHr7vzlDZn+X49Na887M2Yrizx0nswwSOfdcbG2J8HfPlC36sMvoIo\noVFgCRXfprUaA92efuZIZC3epoYvozIM6tKk5oLuawe/4vZ/Mm44Bt7DwehH6ONa\nW87QFqayIFvKbiOHsNpychuZOfMiYFj47pqGoJECgYBkBzYCchYBmp68UjAE9ELX\n8VVbYEnn1pSulTxHXVYW+xNGbKOv3SILvuXVcDNjf84OuQiz7eDEhNmqz8Fsz3bj\nVIZcQFDnaTbATZtIxbmh4ICbEK/VuvVcVh+FMaOD50nPcykbn7GhXHqsO9zU+04V\nUHR0u2P3t6ZXF38KiNFY6g==\n-----END PRIVATE KEY-----\n
  COOKIE_SECRET_CURRENT: current
  COOKIE_SECRET_PREVIOUS: previous
jobs:
  build_and_deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - run: npm ci && npm run build
      - uses: FirebaseExtended/action-hosting-deploy@v0
        with:
          repoToken: '${{ secrets.GITHUB_TOKEN }}'
          firebaseServiceAccount: '${{ secrets.FIREBASE_SERVICE_ACCOUNT_VOTING_SYSTEM_CCA07 }}'
          channelId: live
          projectId: voting-system-cca07
